!function(a){var b,c,d={className:"autosizejs",append:"",callback:!1},e="hidden",f="border-box",g="lineHeight",h='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden;"/>',i=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],j="oninput",k="onpropertychange",l=a(h).data("autosize",!0)[0];l.style.lineHeight="99px","99px"===a(l).css(g)&&i.push(g),l.style.lineHeight="",a.fn.autosize=function(g){return g=a.extend({},d,g||{}),l.parentNode!==document.body&&(a(document.body).append(l),l.value="\n\n\n",l.scrollTop=9e4,b=l.scrollHeight===l.scrollTop+l.clientHeight),this.each(function(){function d(){c=p,l.className=g.className,a.each(i,function(a,b){l.style[b]=q.css(b)})}function h(){var a,f,h;if(c!==p&&d(),!n){n=!0,l.value=p.value+g.append,l.style.overflowY=p.style.overflowY,h=parseInt(p.style.height,10),l.style.width=Math.max(q.width(),0)+"px",b?a=l.scrollHeight:(l.scrollTop=0,l.scrollTop=9e4,a=l.scrollTop);var i=parseInt(q.css("maxHeight"),10);i=i&&i>0?i:9e4,a>i?(a=i,f="scroll"):m>a&&(a=m),a+=r,p.style.overflowY=f||e,h!==a&&(p.style.height=a+"px",s&&g.callback.call(p)),setTimeout(function(){n=!1},1)}}var m,n,o,p=this,q=a(p),r=0,s=a.isFunction(g.callback);q.data("autosize")||((q.css("box-sizing")===f||q.css("-moz-box-sizing")===f||q.css("-webkit-box-sizing")===f)&&(r=q.outerHeight()-q.height()),m=Math.max(parseInt(q.css("minHeight"),10)-r,q.height()),o=q.css("resize")&&"none"!==q.css("resize")&&"vertical"!==q.css("resize")?"horizontal":"none",q.css({overflow:e,overflowY:e,wordWrap:"break-word",resize:o}).data("autosize",!0),k in p?j in p?p[j]=p.onkeyup=h:p[k]=h:p[j]=h,a(window).on("resize",function(){n=!1,h()}),q.on("autosize",function(){n=!1,h()}),h())})}}(window.jQuery||window.Zepto);