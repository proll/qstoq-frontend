!function(a,b){function c(a){return a&&"object"==typeof a&&a.__wrapped__?a:this instanceof c?(this.__wrapped__=a,void 0):new c(a)}function d(a,b,c){b||(b=0);var d=a.length,e=d-b>=(c||ic);if(e)for(var f={},g=b-1;++g<d;){var h=a[g]+"";(Bc.call(f,h)?f[h]:f[h]=[]).push(a[g])}return function(c){if(e){var d=c+"";return Bc.call(f,d)&&nb(f[d],c)>-1}return nb(a,c,b)>-1}}function e(a){return a.charCodeAt(0)}function f(a,b){var c=a.index,d=b.index;if(a=a.criteria,b=b.criteria,a!==b){if(a>b||"undefined"==typeof a)return 1;if(b>a||"undefined"==typeof b)return-1}return d>c?-1:1}function g(a,b,c,d){function e(){var i=arguments,j=g?this:b;if(f||(a=b[h]),c.length&&(i=i.length?(i=n(i),d?i.concat(c):c.concat(i)):c),this instanceof e){m.prototype=a.prototype,j=new m,m.prototype=null;var k=a.apply(j,i);return E(k)?k:j}return a.apply(j,i)}var f=D(a),g=!c,h=b;return g&&(c=b),f||(b=a),e}function h(a,c,d){if(!a)return Pb;var e=typeof a;if("function"!=e){if("object"!=e)return function(b){return b[a]};var f=qd(a);return function(c){for(var d=f.length,e=!1;d--&&(e=B(c[f[d]],a[f[d]],b,b,hc)););return e}}return"undefined"!=typeof c?1===d?function(b){return a.call(c,b)}:2===d?function(b,d){return a.call(c,b,d)}:4===d?function(b,d,e,f){return a.call(c,b,d,e,f)}:function(b,d,e){return a.call(c,b,d,e)}:a}function i(){for(var a,b={hasDontEnumBug:bc,hasEnumPrototype:cc,isKeysFast:Yc,nonEnumArgs:$c,noCharByIndex:bd,shadowed:vc,arrays:"isArray(iterable)",bottom:"",loop:"",top:"",useHas:!0},c=0;a=arguments[c];c++)for(var d in a)b[d]=a[d];var e=b.args;b.firstArg=/^[^,]+/.exec(e)[0];var f=Function("createCallback, hasOwnProperty, isArguments, isArray, isString, objectTypes, nativeKeys","return function("+e+") {\n"+id(b)+"\n}");return f(h,Bc,p,pd,J,gd,Ic)}function j(a){return"\\"+hd[a]}function k(a){return rd[a]}function l(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}function m(){}function n(a,b,c){b||(b=0),"undefined"==typeof c&&(c=a?a.length:0);for(var d=-1,e=c-b||0,f=Array(0>e?0:e);++d<e;)f[d]=a[b+d];return f}function o(a){return sd[a]}function p(a){return Dc.call(a)==Mc}function q(a){var b=!1;if(!a||"object"!=typeof a||p(a))return b;var c=a.constructor;return!D(c)&&(!cd||!l(a))||c instanceof c?dc?(nd(a,function(a,c,d){return b=!Bc.call(d,c),!1}),b===!1):(nd(a,function(a,c){b=c}),b===!1||Bc.call(a,b)):b}function r(a){var b=[];return od(a,function(a,c){b.push(c)}),b}function s(a,c,d,e,f,g){var i=a;if("function"==typeof c&&(e=d,d=c,c=!1),"function"==typeof d){d="undefined"==typeof e?d:h(d,e,1),i=d(i);var j="undefined"!=typeof i;j||(i=a)}var k=E(i);if(k){var m=Dc.call(i);if(!ed[m]||cd&&l(i))return i;var o=pd(i)}if(!k||!c)return k&&!j?o?n(i):td({},i):i;var p=fd[m];switch(m){case Oc:case Pc:return j?i:new p(+i);case Rc:case Uc:return j?i:new p(i);case Tc:return j?i:p(i.source,oc.exec(i))}f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q];return j||(i=o?p(i.length):{},o&&(Bc.call(a,"index")&&(i.index=a.index),Bc.call(a,"input")&&(i.input=a.input))),f.push(a),g.push(i),(o?W:od)(j?i:a,function(a,e){i[e]=s(a,c,d,b,f,g)}),i}function t(a,b,c){return s(a,!0,b,c)}function u(a){var b=[];return nd(a,function(a,c){D(a)&&b.push(c)}),b.sort()}function v(a,b){return a?Bc.call(a,b):!1}function w(a){for(var b=-1,c=qd(a),d=c.length,e={};++b<d;){var f=c[b];e[a[f]]=f}return e}function x(a){return a===!0||a===!1||Dc.call(a)==Oc}function y(a){return a instanceof Date||Dc.call(a)==Pc}function z(a){return a?1===a.nodeType:!1}function A(a){var b=!0;if(!a)return b;var c=Dc.call(a),d=a.length;return c==Nc||c==Uc||c==Mc||ad&&p(a)||c==Sc&&"number"==typeof d&&D(a.splice)?!d:(od(a,function(){return b=!1}),b)}function B(a,c,d,e,f,g,i){if(d){d="undefined"==typeof e?d:h(d,e,2);var j=d(a,c);if("undefined"!=typeof j)return!!j}if(a===c)return 0!==a||1/a==1/c;var k=typeof a,m=typeof c;if(a===a&&(!a||"function"!=k&&"object"!=k)&&(!c||"function"!=m&&"object"!=m))return!1;if(null==a||null==c)return a===c;var n=Dc.call(a),o=Dc.call(c);if(n==Mc&&(n=Sc),o==Mc&&(o=Sc),n!=o)return!1;switch(n){case Oc:case Pc:return+a==+c;case Rc:return a!=+a?c!=+c:0==a?1/a==1/c:a==+c;case Tc:case Uc:return a==c+""}var q=n==Nc;if(!q){if(a.__wrapped__||c.__wrapped__)return B(a.__wrapped__||a,c.__wrapped__||c,d,b,f,g,i);if(n!=Sc||cd&&(l(a)||l(c)))return!1;var r=!_c&&p(a)?Object:a.constructor,s=!_c&&p(c)?Object:c.constructor;if(r!=s&&!(D(r)&&r instanceof r&&D(s)&&s instanceof s))return!1}g||(g=[]),i||(i=[]);for(var t=g.length;t--;)if(g[t]==a)return i[t]==c;var u=0;if(j=!0,g.push(a),i.push(c),q){if(u=c.length,j=f==hc||u==a.length)for(;u--&&(j=B(a[u],c[u],d,b,f,g,i)););return j}return nd(c,function(c,e,h){return Bc.call(h,e)?(u++,j=Bc.call(a,e)&&B(a[e],c,d,b,f,g,i)):void 0}),j&&f!=hc&&nd(a,function(a,b,c){return Bc.call(c,b)?j=--u>-1:void 0}),j}function C(a){return Gc(a)&&!Hc(parseFloat(a))}function D(a){return"function"==typeof a}function E(a){return a?gd[typeof a]:!1}function F(a){return H(a)&&a!=+a}function G(a){return null===a}function H(a){return"number"==typeof a||Dc.call(a)==Rc}function I(a){return a instanceof RegExp||Dc.call(a)==Tc}function J(a){return"string"==typeof a||Dc.call(a)==Uc}function K(a){return"undefined"==typeof a}function L(a,b,c){var d=arguments,e=0,f=2;if(!E(a))return a;if(c===hc)var g=d[3],i=d[4],j=d[5];else i=[],j=[],"number"!=typeof c&&(f=d.length,"function"==typeof d[f-2]?g=h(d[--f-1],d[f--],2):"function"==typeof d[f-1]&&(g=d[--f]));for(;++e<f;)(pd(d[e])?W:od)(d[e],function(b,c){var d,e,f=b,h=a[c];if(b&&((e=pd(b))||vd(b))){for(var k=i.length;k--;)if(d=i[k]==b){h=j[k];break}d||(h=e?pd(h)?h:[]:vd(h)?h:{},g&&(f=g(h,b),"undefined"!=typeof f&&(h=f)),i.push(b),j.push(h),g||(h=L(h,b,hc,g,i,j)))}else g&&(f=g(h,b),"undefined"==typeof f&&(f=b)),"undefined"!=typeof f&&(h=f);a[c]=h});return a}function M(a,b,c){var d="function"==typeof b,e={};if(d)b=h(b,c);else var f=yc.apply(ec,arguments);return nd(a,function(a,c,g){(d?!b(a,c,g):nb(f,c,1)<0)&&(e[c]=a)}),e}function N(a){for(var b=-1,c=qd(a),d=c.length,e=Array(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function O(a,b,c){var d={};if("function"!=typeof b)for(var e=0,f=yc.apply(ec,arguments),g=E(a)?f.length:0;++e<g;){var i=f[e];i in a&&(d[i]=a[i])}else b=h(b,c),nd(a,function(a,c,e){b(a,c,e)&&(d[c]=a)});return d}function P(a){for(var b=-1,c=qd(a),d=c.length,e=Array(d);++b<d;)e[b]=a[c[b]];return e}function Q(a){var b=-1,c=yc.apply(ec,n(arguments,1)),d=c.length,e=Array(d);for(bd&&J(a)&&(a=a.split(""));++b<d;)e[b]=a[c[b]];return e}function R(a,b,c){var d=-1,e=a?a.length:0,f=!1;return c=(0>c?Jc(0,e+c):c)||0,"number"==typeof e?f=(J(a)?a.indexOf(b,c):nb(a,b,c))>-1:md(a,function(a){return++d>=c?!(f=a===b):void 0}),f}function S(a,b,c){var d={};return b=h(b,c),W(a,function(a,c,e){c=b(a,c,e)+"",Bc.call(d,c)?d[c]++:d[c]=1}),d}function T(a,b,c){var d=!0;if(b=h(b,c),pd(a))for(var e=-1,f=a.length;++e<f&&(d=!!b(a[e],e,a)););else md(a,function(a,c,e){return d=!!b(a,c,e)});return d}function U(a,b,c){var d=[];if(b=h(b,c),pd(a))for(var e=-1,f=a.length;++e<f;){var g=a[e];b(g,e,a)&&d.push(g)}else md(a,function(a,c,e){b(a,c,e)&&d.push(a)});return d}function V(a,b,c){var d;return b=h(b,c),W(a,function(a,c,e){return b(a,c,e)?(d=a,!1):void 0}),d}function W(a,b,c){if(b&&"undefined"==typeof c&&pd(a))for(var d=-1,e=a.length;++d<e&&b(a[d],d,a)!==!1;);else md(a,b,c);return a}function X(a,b,c){var d={};return b=h(b,c),W(a,function(a,c,e){c=b(a,c,e)+"",(Bc.call(d,c)?d[c]:d[c]=[]).push(a)}),d}function Y(a,b){var c=n(arguments,2),d=-1,e="function"==typeof b,f=a?a.length:0,g=Array("number"==typeof f?f:0);return W(a,function(a){g[++d]=(e?b:a[b]).apply(a,c)}),g}function Z(a,b,c){var d=-1,e=a?a.length:0,f=Array("number"==typeof e?e:0);if(b=h(b,c),pd(a))for(;++d<e;)f[d]=b(a[d],d,a);else md(a,function(a,c,e){f[++d]=b(a,c,e)});return f}function $(a,b,c){var d=-1/0,f=d;if(!b&&pd(a))for(var g=-1,i=a.length;++g<i;){var j=a[g];j>f&&(f=j)}else b=!b&&J(a)?e:h(b,c),md(a,function(a,c,e){var g=b(a,c,e);g>d&&(d=g,f=a)});return f}function _(a,b,c){var d=1/0,f=d;if(!b&&pd(a))for(var g=-1,i=a.length;++g<i;){var j=a[g];f>j&&(f=j)}else b=!b&&J(a)?e:h(b,c),md(a,function(a,c,e){var g=b(a,c,e);d>g&&(d=g,f=a)});return f}function ab(a,b){return Z(a,b+"")}function bb(a,b,c,d){var e=arguments.length<3;if(b=h(b,d,4),pd(a)){var f=-1,g=a.length;for(e&&(c=a[++f]);++f<g;)c=b(c,a[f],f,a)}else md(a,function(a,d,f){c=e?(e=!1,a):b(c,a,d,f)});return c}function cb(a,b,c,d){var e=a,f=a?a.length:0,g=arguments.length<3;if("number"!=typeof f){var i=qd(a);f=i.length}else bd&&J(a)&&(e=a.split(""));return b=h(b,d,4),W(a,function(a,d,h){d=i?i[--f]:--f,c=g?(g=!1,e[d]):b(c,e[d],d,h)}),c}function db(a,b,c){return b=h(b,c),U(a,function(a,c,d){return!b(a,c,d)})}function eb(a){var b=-1,c=a?a.length:0,d=Array("number"==typeof c?c:0);return W(a,function(a){var c=zc(Lc()*(++b+1));d[b]=d[c],d[c]=a}),d}function fb(a){var b=a?a.length:0;return"number"==typeof b?b:qd(a).length}function gb(a,b,c){var d;if(b=h(b,c),pd(a))for(var e=-1,f=a.length;++e<f&&!(d=b(a[e],e,a)););else md(a,function(a,c,e){return!(d=b(a,c,e))});return!!d}function hb(a,b,c){var d=-1,e=a?a.length:0,g=Array("number"==typeof e?e:0);for(b=h(b,c),W(a,function(a,c,e){g[++d]={criteria:b(a,c,e),index:d,value:a}}),e=g.length,g.sort(f);e--;)g[e]=g[e].value;return g}function ib(a){return a&&"number"==typeof a.length?bd&&J(a)?a.split(""):n(a):P(a)}function jb(a){for(var b=-1,c=a?a.length:0,d=[];++b<c;){var e=a[b];e&&d.push(e)}return d}function kb(a){for(var b=-1,c=a?a.length:0,e=yc.apply(ec,arguments),f=d(e,c),g=[];++b<c;){var h=a[b];f(h)||g.push(h)}return g}function lb(a,b,c){if(a){var d=0,e=a.length;if("function"==typeof b){var f=-1;for(b=h(b,c);++f<e&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a[0];return n(a,0,Kc(Jc(0,d),e))}}function mb(a,b){for(var c=-1,d=a?a.length:0,e=[];++c<d;){var f=a[c];pd(f)?Cc.apply(e,b?f:mb(f)):e.push(f)}return e}function nb(a,b,c){var d=-1,e=a?a.length:0;if("number"==typeof c)d=(0>c?Jc(0,e+c):c||0)-1;else if(c)return d=vb(a,b),a[d]===b?d:-1;for(;++d<e;)if(a[d]===b)return d;return-1}function ob(a,b,c){if(!a)return[];var d=0,e=a.length;if("function"==typeof b){var f=e;for(b=h(b,c);f--&&b(a[f],f,a);)d++}else d=null==b||c?1:b||d;return n(a,0,Kc(Jc(0,e-d),e))}function pb(a){var b=arguments,c=b.length,e={0:{}},f=-1,g=a?a.length:0,h=g>=100,i=[],j=i;a:for(;++f<g;){var k=a[f];if(h)var l=k+"",m=Bc.call(e[0],l)?!(j=e[0][l]):j=e[0][l]=[];if(m||nb(j,k)<0){h&&j.push(k);for(var n=c;--n;)if(!(e[n]||(e[n]=d(b[n],0,100)))(k))continue a;i.push(k)}}return i}function qb(a,b,c){if(a){var d=0,e=a.length;if("function"==typeof b){var f=e;for(b=h(b,c);f--&&b(a[f],f,a);)d++}else if(d=b,null==d||c)return a[e-1];return n(a,Jc(0,e-d))}}function rb(a,b,c){var d=a?a.length:0;for("number"==typeof c&&(d=(0>c?Jc(0,d+c):Kc(c,d-1))+1);d--;)if(a[d]===b)return d;return-1}function sb(a,b){for(var c=-1,d=a?a.length:0,e={};++c<d;){var f=a[c];b?e[f]=b[c]:e[f[0]]=f[1]}return e}function tb(a,b,c){a=+a||0,c=+c||1,null==b&&(b=a,a=0);for(var d=-1,e=Jc(0,xc((b-a)/c)),f=Array(e);++d<e;)f[d]=a,a+=c;return f}function ub(a,b,c){if("function"==typeof b){var d=0,e=-1,f=a?a.length:0;for(b=h(b,c);++e<f&&b(a[e],e,a);)d++}else d=null==b||c?1:Jc(0,b);return n(a,d)}function vb(a,b,c,d){var e=0,f=a?a.length:e;for(c=c?h(c,d,1):Pb,b=c(b);f>e;){var g=e+f>>>1;c(a[g])<b?e=g+1:f=g}return e}function wb(){return xb(yc.apply(ec,arguments))}function xb(a,b,c,d){var e=-1,f=a?a.length:0,g=[],i=g;"function"==typeof b&&(d=c,c=b,b=!1);var j=!b&&f>=75;if(j)var k={};for(c&&(i=[],c=h(c,d));++e<f;){var l=a[e],m=c?c(l,e,a):l;if(j)var n=m+"",o=Bc.call(k,n)?!(i=k[n]):i=k[n]=[];(b?!e||i[i.length-1]!==m:o||nb(i,m)<0)&&((c||j)&&i.push(m),g.push(l))}return g}function yb(a){for(var b=-1,c=a?a.length:0,e=d(arguments,1),f=[];++b<c;){var g=a[b];e(g)||f.push(g)}return f}function zb(a){for(var b=-1,c=a?$(ab(arguments,"length")):0,d=Array(c);++b<c;)d[b]=ab(arguments,b);return d}function Ab(a,b){return 1>a?b():function(){return--a<1?b.apply(this,arguments):void 0}}function Bb(a,b){return Xc||Ec&&arguments.length>2?Ec.call.apply(Ec,arguments):g(a,b,n(arguments,2))}function Cb(a){for(var b=yc.apply(ec,arguments),c=b.length>1?0:(b=u(a),-1),d=b.length;++c<d;){var e=b[c];a[e]=Bb(a[e],a)}return a}function Db(a,b){return g(a,b,n(arguments,2))}function Eb(){var a=arguments;return function(){for(var b=arguments,c=a.length;c--;)b=[a[c].apply(this,b)];return b[0]}}function Fb(a,b,c){function d(){h=null,c||(f=a.apply(g,e))}var e,f,g,h;return function(){var i=c&&!h;return e=arguments,g=this,clearTimeout(h),h=setTimeout(d,b),i&&(f=a.apply(g,e)),f}}function Gb(a,c){var d=n(arguments,2);return setTimeout(function(){a.apply(b,d)},c)}function Hb(a){var c=n(arguments,1);return setTimeout(function(){a.apply(b,c)},1)}function Ib(a,b){var c={};return function(){var d=(b?b.apply(this,arguments):arguments[0])+"";return Bc.call(c,d)?c[d]:c[d]=a.apply(this,arguments)}}function Jb(a){var b,c;return function(){return b?c:(b=!0,c=a.apply(this,arguments),a=null,c)}}function Kb(a){return g(a,n(arguments,1))}function Lb(a){return g(a,n(arguments,1),null,hc)}function Mb(a,b){function c(){h=new Date,g=null,e=a.apply(f,d)}var d,e,f,g,h=0;return function(){var i=new Date,j=b-(i-h);return d=arguments,f=this,0>=j?(clearTimeout(g),g=null,h=i,e=a.apply(f,d)):g||(g=setTimeout(c,j)),e}}function Nb(a,b){return function(){var c=[a];return Cc.apply(c,arguments),b.apply(this,c)}}function Ob(a){return null==a?"":(a+"").replace(tc,k)}function Pb(a){return a}function Qb(a){W(u(a),function(b){var d=c[b]=a[b];c.prototype[b]=function(){var a=[this.__wrapped__];return Cc.apply(a,arguments),new c(d.apply(c,a))}})}function Rb(){return a._=jc,this}function Sb(a,b){return null==a&&null==b&&(b=1),a=+a||0,null==b&&(b=a,a=0),a+zc(Lc()*((+b||0)-a+1))}function Tb(a,c){var d=a?a[c]:b;return D(d)?a[c]():d}function Ub(a,d,e){var f=c.templateSettings;a||(a=""),e=id?ud({},e,f):f;var g,h=id&&ud({},e.imports,f.imports),i=id?qd(h):["_"],k=id?P(h):[c],l=0,m=e.interpolate||sc,n="__p += '",o=RegExp((e.escape||sc).source+"|"+m.source+"|"+(m===rc?qc:sc).source+"|"+(e.evaluate||sc).source+"|$","g");a.replace(o,function(b,c,d,e,f,h){return d||(d=e),n+=a.slice(l,h).replace(uc,j),c&&(n+="' +\n__e("+c+") +\n'"),f&&(g=!0,n+="';\n"+f+";\n__p += '"),d&&(n+="' +\n((__t = ("+d+")) == null ? '' : __t) +\n'"),l=h+b.length,b}),n+="';\n";var p=e.variable,q=p;q||(p="obj",n="with ("+p+") {\n"+n+"\n}\n"),n=(g?n.replace(lc,""):n).replace(mc,"$1").replace(nc,"$1;"),n="function("+p+") {\n"+(q?"":p+" || ("+p+" = {});\n")+"var __t, __p = '', __e = _.escape"+(g?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":(q?"":", __d = "+p+"."+p+" || "+p)+";\n")+n+"return __p\n}";var r="\n/*\n//@ sourceURL="+(e.sourceURL||"/lodash/template/source["+wc++ +"]")+"\n*/";try{var s=Function(i,"return "+n+r).apply(b,k)}catch(t){throw t.source=n,t}return d?s(d):(s.source=n,s)}function Vb(a,b,c){a=+a||0;for(var d=-1,e=Array(a);++d<a;)e[d]=b.call(c,d);return e}function Wb(a){return null==a?"":(a+"").replace(kc,o)}function Xb(a){var b=++gc;return(null==a?"":a+"")+b}function Yb(a,b){return b(a),a}function Zb(){return this.__wrapped__+""}function $b(){return this.__wrapped__}var _b="object"==typeof exports&&exports,ac="object"==typeof global&&global;ac.global===ac&&(a=ac);var bc,cc,dc,ec=[],fc={},gc=0,hc=fc,ic=30,jc=a._,kc=/&(?:amp|lt|gt|quot|#x27);/g,lc=/\b__p \+= '';/g,mc=/\b(__p \+=) '' \+/g,nc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,oc=/\w*$/,pc=RegExp("^"+(fc.valueOf+"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/valueOf|for [^\]]+/g,".+?")+"$"),qc=/\$\{((?:(?=\\?)\\?[\s\S])*?)}/g,rc=/<%=([\s\S]+?)%>/g,sc=/($^)/,tc=/[&<>"']/g,uc=/['\n\r\t\u2028\u2029\\]/g,vc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],wc=0,xc=Math.ceil,yc=ec.concat,zc=Math.floor,Ac=pc.test(Ac=Object.getPrototypeOf)&&Ac,Bc=fc.hasOwnProperty,Cc=ec.push,Dc=fc.toString,Ec=pc.test(Ec=n.bind)&&Ec,Fc=pc.test(Fc=Array.isArray)&&Fc,Gc=a.isFinite,Hc=a.isNaN,Ic=pc.test(Ic=Object.keys)&&Ic,Jc=Math.max,Kc=Math.min,Lc=Math.random,Mc="[object Arguments]",Nc="[object Array]",Oc="[object Boolean]",Pc="[object Date]",Qc="[object Function]",Rc="[object Number]",Sc="[object Object]",Tc="[object RegExp]",Uc="[object String]",Vc=!!a.attachEvent,Wc=Ec&&!/\n|true/.test(Ec+Vc),Xc=Ec&&!Wc,Yc=Ic&&(Vc||Wc),Zc=(Zc={0:1,length:1},ec.splice.call(Zc,0,1),Zc[0]),$c=!0;!function(){function a(){this.x=1}var b=[];a.prototype={valueOf:1,y:1};for(var c in new a)b.push(c);for(c in arguments)$c=!c;bc=!/valueOf/.test(b),cc=a.propertyIsEnumerable("prototype"),dc="x"!=b[0]}(1);var _c=arguments.constructor==Object,ad=!p(arguments),bd="xx"!="x"[0]+Object("x")[0];try{var cd=Dc.call(document)==Sc&&!({toString:0}+"")}catch(dd){}var ed={};ed[Qc]=!1,ed[Mc]=ed[Nc]=ed[Oc]=ed[Pc]=ed[Rc]=ed[Sc]=ed[Tc]=ed[Uc]=!0;var fd={};fd[Nc]=Array,fd[Oc]=Boolean,fd[Pc]=Date,fd[Sc]=Object,fd[Rc]=Number,fd[Tc]=RegExp,fd[Uc]=String;var gd={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},hd={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"};c.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:rc,variable:"",imports:{_:c}};var id=Ub("var index, iterable = <%= firstArg %>, result = iterable;\nif (!iterable) return result;\n<%= top %>;\n<% if (arrays) { %>var length = iterable.length; index = -1;\nif (<%= arrays %>) {  <% if (noCharByIndex) { %>\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  <% } %>\n  while (++index < length) {\n    <%= loop %>\n  }\n}\nelse {  <%  } else if (nonEnumArgs) { %>\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      <%= loop %>\n    }\n  } else {  <% } %>  <% if (hasEnumPrototype) { %>\n  var skipProto = typeof iterable == 'function';\n  <% } %>  <% if (isKeysFast && useHas) { %>\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] ? nativeKeys(iterable) : [],\n      length = ownProps.length;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n    <% if (hasEnumPrototype) { %>if (!(skipProto && index == 'prototype')) {\n  <% } %>    <%= loop %>\n    <% if (hasEnumPrototype) { %>}\n<% } %>  }  <% } else { %>\n  for (index in iterable) {<%    if (hasEnumPrototype || useHas) { %>\n    if (<%      if (hasEnumPrototype) { %>!(skipProto && index == 'prototype')<% }      if (hasEnumPrototype && useHas) { %> && <% }      if (useHas) { %>hasOwnProperty.call(iterable, index)<% }    %>) {    <% } %>\n    <%= loop %>;    <% if (hasEnumPrototype || useHas) { %>\n    }<% } %>\n  }  <% } %>  <% if (hasDontEnumBug) { %>\n\n  var ctor = iterable.constructor;\n    <% for (var k = 0; k < 7; k++) { %>\n  index = '<%= shadowed[k] %>';\n  if (<%      if (shadowed[k] == 'constructor') {        %>!(ctor && ctor.prototype === iterable) && <%      } %>hasOwnProperty.call(iterable, index)) {\n    <%= loop %>\n  }    <% } %>  <% } %>  <% if (arrays || nonEnumArgs) { %>\n}<% } %>\n<%= bottom %>;\nreturn result"),jd={args:"object, source, guard",top:"var argsIndex = 0,\n    argsLength = typeof guard == 'number' ? 2 : arguments.length;\nwhile (++argsIndex < argsLength) {\n  iterable = arguments[argsIndex];\n  if (iterable && objectTypes[typeof iterable]) {",loop:"result[index] = iterable[index]",bottom:"  }\n}"},kd={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : createCallback(callback, thisArg)",arrays:"typeof length == 'number'",loop:"if (callback(iterable[index], index, collection) === false) return result"},ld={top:"if (!objectTypes[typeof iterable]) return result;\n"+kd.top,arrays:!1},md=i(kd);ad&&(p=function(a){return a?Bc.call(a,"callee"):!1});var nd=i(kd,ld,{useHas:!1}),od=i(kd,ld),pd=Fc||function(a){return _c&&a instanceof Array||Dc.call(a)==Nc},qd=Ic?function(a){return E(a)?cc&&"function"==typeof a||$c&&a.length&&p(a)?r(a):Ic(a):[]}:r,rd={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},sd=w(rd),td=i(jd),ud=i(jd,{loop:"if (result[index] == null) "+jd.loop});D(/x/)&&(D=function(a){return a instanceof Function||Dc.call(a)==Qc});var vd=Ac?function(a){if(!a||"object"!=typeof a)return!1;var b=a.valueOf,c="function"==typeof b&&(c=Ac(b))&&Ac(c);return c?a==c||Ac(a)==c&&!p(a):q(a)}:q,wd=U;c.after=Ab,c.assign=td,c.at=Q,c.bind=Bb,c.bindAll=Cb,c.bindKey=Db,c.compact=jb,c.compose=Eb,c.countBy=S,c.debounce=Fb,c.defaults=ud,c.defer=Hb,c.delay=Gb,c.difference=kb,c.filter=U,c.flatten=mb,c.forEach=W,c.forIn=nd,c.forOwn=od,c.functions=u,c.groupBy=X,c.initial=ob,c.intersection=pb,c.invert=w,c.invoke=Y,c.keys=qd,c.map=Z,c.max=$,c.memoize=Ib,c.merge=L,c.min=_,c.object=sb,c.omit=M,c.once=Jb,c.pairs=N,c.partial=Kb,c.partialRight=Lb,c.pick=O,c.pluck=ab,c.range=tb,c.reject=db,c.rest=ub,c.shuffle=eb,c.sortBy=hb,c.tap=Yb,c.throttle=Mb,c.times=Vb,c.toArray=ib,c.union=wb,c.uniq=xb,c.values=P,c.where=wd,c.without=yb,c.wrap=Nb,c.zip=zb,c.collect=Z,c.drop=ub,c.each=W,c.extend=td,c.methods=u,c.select=U,c.tail=ub,c.unique=xb,Qb(c),c.clone=s,c.cloneDeep=t,c.contains=R,c.escape=Ob,c.every=T,c.find=V,c.has=v,c.identity=Pb,c.indexOf=nb,c.isArguments=p,c.isArray=pd,c.isBoolean=x,c.isDate=y,c.isElement=z,c.isEmpty=A,c.isEqual=B,c.isFinite=C,c.isFunction=D,c.isNaN=F,c.isNull=G,c.isNumber=H,c.isObject=E,c.isPlainObject=vd,c.isRegExp=I,c.isString=J,c.isUndefined=K,c.lastIndexOf=rb,c.mixin=Qb,c.noConflict=Rb,c.random=Sb,c.reduce=bb,c.reduceRight=cb,c.result=Tb,c.size=fb,c.some=gb,c.sortedIndex=vb,c.template=Ub,c.unescape=Wb,c.uniqueId=Xb,c.all=T,c.any=gb,c.detect=V,c.foldl=bb,c.foldr=cb,c.include=R,c.inject=bb,od(c,function(a,b){c.prototype[b]||(c.prototype[b]=function(){var b=[this.__wrapped__];return Cc.apply(b,arguments),a.apply(c,b)})}),c.first=lb,c.last=qb,c.take=lb,c.head=lb,od(c,function(a,b){c.prototype[b]||(c.prototype[b]=function(b,d){var e=a(this.__wrapped__,b,d);return null==b||d&&"function"!=typeof b?e:new c(e)})}),c.VERSION="1.0.0-rc.3",c.prototype.toString=Zb,c.prototype.value=$b,c.prototype.valueOf=$b,md(["join","pop","shift"],function(a){var b=ec[a];c.prototype[a]=function(){return b.apply(this.__wrapped__,arguments)}}),md(["push","reverse","sort","unshift"],function(a){var b=ec[a];c.prototype[a]=function(){return b.apply(this.__wrapped__,arguments),this}}),md(["concat","slice","splice"],function(a){var b=ec[a];c.prototype[a]=function(){return new c(b.apply(this.__wrapped__,arguments))}}),Zc&&md(["pop","shift","splice"],function(a){var b=ec[a],d="splice"==a;c.prototype[a]=function(){var a=this.__wrapped__,e=b.apply(a,arguments);return 0===a.length&&delete a[0],d?new c(e):e}}),c._each=md,c._iteratorTemplate=id,"function"==typeof define&&"object"==typeof define.amd&&define.amd?(a._=c,define(function(){return c})):_b?"object"==typeof module&&module&&module.exports==_b?(module.exports=c)._=c:_b._=c:a._=c}(this),function(){var a,b=this,c=b.Backbone,d=[],e=d.push,f=d.slice,g=d.splice;a="undefined"!=typeof exports?exports:b.Backbone={},a.VERSION="0.9.10";var h=b._;h||"undefined"==typeof require||(h=require("underscore")),a.$=b.jQuery||b.Zepto||b.ender,a.noConflict=function(){return b.Backbone=c,this},a.emulateHTTP=!1,a.emulateJSON=!1;var i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c)for(var e in c)a[b].apply(a,[e,c[e]].concat(d));else{if(!i.test(c))return!0;for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d))}},k=function(a,b){var c,d=-1,e=a.length;switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,b[0]);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,b[0],b[1]);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,b[0],b[1],b[2]);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},l=a.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,c){if(!j(this,"once",a,[b,c])||!b)return this;var d=this,e=h.once(function(){d.off(a,e),b.apply(this,arguments)});return e._callback=b,this.on(a,e,c),this},off:function(a,b,c){var d,e,f,g,i,k,l,m;if(!this._events||!j(this,"off",a,[b,c]))return this;if(!a&&!b&&!c)return this._events={},this;for(g=a?[a]:h.keys(this._events),i=0,k=g.length;k>i;i++)if(a=g[i],d=this._events[a]){if(f=[],b||c)for(l=0,m=d.length;m>l;l++)e=d[l],(b&&b!==e.callback&&b!==e.callback._callback||c&&c!==e.context)&&f.push(e);this._events[a]=f}return this},trigger:function(a){if(!this._events)return this;var b=f.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},listenTo:function(a,b,c){var d=this._listeners||(this._listeners={}),e=a._listenerId||(a._listenerId=h.uniqueId("l"));return d[e]=a,a.on(b,"object"==typeof b?this:c,this),this},stopListening:function(a,b,c){var d=this._listeners;if(d){if(a)a.off(b,"object"==typeof b?this:c,this),b||c||delete d[a._listenerId];else{"object"==typeof b&&(c=this);for(var e in d)d[e].off(b,c,this);this._listeners={}}return this}}};l.bind=l.on,l.unbind=l.off,h.extend(a,l);var m=a.Model=function(a,b){var c,d=a||{};this.cid=h.uniqueId("c"),this.attributes={},b&&b.collection&&(this.collection=b.collection),b&&b.parse&&(d=this.parse(d,b)||{}),(c=h.result(this,"defaults"))&&(d=h.defaults({},d,c)),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};h.extend(m.prototype,l,{changed:null,idAttribute:"id",initialize:function(){},toJSON:function(){return h.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return h.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,c){var d,e,f,g,i,j,k,l;if(null==a)return this;if("object"==typeof a?(e=a,c=b):(e={})[a]=b,c||(c={}),!this._validate(e,c))return!1;f=c.unset,i=c.silent,g=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=h.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in e&&(this.id=e[this.idAttribute]);for(d in e)b=e[d],h.isEqual(l[d],b)||g.push(d),h.isEqual(k[d],b)?delete this.changed[d]:this.changed[d]=b,f?delete l[d]:l[d]=b;if(!i){g.length&&(this._pending=!0);for(var m=0,n=g.length;n>m;m++)this.trigger("change:"+g[m],this,l[g[m]],c)}if(j)return this;if(!i)for(;this._pending;)this._pending=!1,this.trigger("change",this,c);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,h.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var c in this.attributes)b[c]=void 0;return this.set(b,h.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!h.isEmpty(this.changed):h.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?h.clone(this.changed):!1;var b,c=!1,d=this._changing?this._previousAttributes:this.attributes;for(var e in a)h.isEqual(d[e],b=a[e])||((c||(c={}))[e]=b);return c},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return h.clone(this._previousAttributes)},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success;return a.success=function(a,c,d){return a.set(a.parse(c,d),d)?(b&&b(a,c,d),void 0):!1},this.sync("read",this,a)},save:function(a,b,c){var d,e,f,g,i=this.attributes;return null==a||"object"==typeof a?(d=a,c=b):(d={})[a]=b,!d||c&&c.wait||this.set(d,c)?(c=h.extend({validate:!0},c),this._validate(d,c)?(d&&c.wait&&(this.attributes=h.extend({},i,d)),void 0===c.parse&&(c.parse=!0),e=c.success,c.success=function(a,b,c){a.attributes=i;var f=a.parse(b,c);return c.wait&&(f=h.extend(d||{},f)),h.isObject(f)&&!a.set(f,c)?!1:(e&&e(a,b,c),void 0)},f=this.isNew()?"create":c.patch?"patch":"update","patch"===f&&(c.attrs=d),g=this.sync(f,this,c),d&&c.wait&&(this.attributes=i),g):!1):!1},destroy:function(a){a=a?h.clone(a):{};var b=this,c=a.success,d=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(a,b,e){(e.wait||a.isNew())&&d(),c&&c(a,b,e)},this.isNew())return a.success(this,null,a),!1;var e=this.sync("delete",this,a);return a.wait||d(),e},url:function(){var a=h.result(this,"urlRoot")||h.result(this.collection,"url")||F();return this.isNew()?a:a+("/"===a.charAt(a.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(a){return!this.validate||!this.validate(this.attributes,a)},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=h.extend({},this.attributes,a);var c=this.validationError=this.validate(a,b)||null;return c?(this.trigger("invalid",this,c,b||{}),!1):!0}});var n=a.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this.models=[],this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,h.extend({silent:!0},b))};h.extend(n.prototype,l,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){a=h.isArray(a)?a.slice():[a],b||(b={});var c,d,f,i,j,k,l,m,n,o;for(l=[],m=b.at,n=this.comparator&&null==m&&0!=b.sort,o=h.isString(this.comparator)?this.comparator:null,c=0,d=a.length;d>c;c++)(f=this._prepareModel(i=a[c],b))?(j=this.get(f))?b.merge&&(j.set(i===f?f.attributes:i,b),n&&!k&&j.hasChanged(o)&&(k=!0)):(l.push(f),f.on("all",this._onModelEvent,this),this._byId[f.cid]=f,null!=f.id&&(this._byId[f.id]=f)):this.trigger("invalid",this,i,b);if(l.length&&(n&&(k=!0),this.length+=l.length,null!=m?g.apply(this.models,[m,0].concat(l)):e.apply(this.models,l)),k&&this.sort({silent:!0}),b.silent)return this;for(c=0,d=l.length;d>c;c++)(f=l[c]).trigger("add",f,this,b);return k&&this.trigger("sort",this,b),this},remove:function(a,b){a=h.isArray(a)?a.slice():[a],b||(b={});var c,d,e,f;for(c=0,d=a.length;d>c;c++)f=this.get(a[c]),f&&(delete this._byId[f.id],delete this._byId[f.cid],e=this.indexOf(f),this.models.splice(e,1),this.length--,b.silent||(b.index=e,f.trigger("remove",f,this,b)),this._removeReference(f));return this},push:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:this.length},b)),a},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return a=this._prepareModel(a,b),this.add(a,h.extend({at:0},b)),a},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(a,b){return this.models.slice(a,b)},get:function(a){return null==a?void 0:(this._idAttr||(this._idAttr=this.model.prototype.idAttribute),this._byId[a.id||a.cid||a[this._idAttr]||a])},at:function(a){return this.models[a]},where:function(a){return h.isEmpty(a)?[]:this.filter(function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),h.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(h.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return h.invoke(this.models,"get",a)},update:function(a,b){b=h.extend({add:!0,merge:!0,remove:!0},b),b.parse&&(a=this.parse(a,b));var c,d,e,f,g=[],i=[],j={};if(h.isArray(a)||(a=a?[a]:[]),b.add&&!b.remove)return this.add(a,b);for(d=0,e=a.length;e>d;d++)c=a[d],f=this.get(c),b.remove&&f&&(j[f.cid]=!0),(b.add&&!f||b.merge&&f)&&g.push(c);if(b.remove)for(d=0,e=this.models.length;e>d;d++)c=this.models[d],j[c.cid]||i.push(c);return i.length&&this.remove(i,b),g.length&&this.add(g,b),this},reset:function(a,b){b||(b={}),b.parse&&(a=this.parse(a,b));for(var c=0,d=this.models.length;d>c;c++)this._removeReference(this.models[c]);return b.previousModels=this.models.slice(),this._reset(),a&&this.add(a,h.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),this},fetch:function(a){a=a?h.clone(a):{},void 0===a.parse&&(a.parse=!0);
var b=a.success;return a.success=function(a,c,d){var e=d.update?"update":"reset";a[e](c,d),b&&b(a,c,d)},this.sync("read",this,a)},create:function(a,b){if(b=b?h.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var c=this,d=b.success;return b.success=function(a,b,e){e.wait&&c.add(a,e),d&&d(a,b,e)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models.length=0,this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a.collection||(a.collection=this),a;b||(b={}),b.collection=this;var c=new this.model(a,b);return c._validate(a,b)?c:!1},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))},sortedIndex:function(a,b,c){b||(b=this.comparator);var d=h.isFunction(b)?b:function(a){return a.get(b)};return h.sortedIndex(this.models,a,d,c)}});var o=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"];h.each(o,function(a){n.prototype[a]=function(){var b=f.call(arguments);return b.unshift(this.models),h[a].apply(h,b)}});var p=["groupBy","countBy","sortBy"];h.each(p,function(a){n.prototype[a]=function(b,c){var d=h.isFunction(b)?b:function(a){return a.get(b)};return h[a](this.models,d,c)}});var q=a.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},r=/\((.*?)\)/g,s=/(\(\?)?:\w+/g,t=/\*\w+/g,u=/[\-{}\[\]+?.,\\\^$|#\s]/g;h.extend(q.prototype,l,{initialize:function(){},route:function(b,c,d){return h.isRegExp(b)||(b=this._routeToRegExp(b)),d||(d=this[c]),a.history.route(b,h.bind(function(e){var f=this._extractParameters(b,e);d&&d.apply(this,f),this.trigger.apply(this,["route:"+c].concat(f)),this.trigger("route",c,f),a.history.trigger("route",this,c,f)},this)),this},navigate:function(b,c){return a.history.navigate(b,c),this},_bindRoutes:function(){if(this.routes)for(var a,b=h.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])},_routeToRegExp:function(a){return a=a.replace(u,"\\$&").replace(r,"(?:$1)?").replace(s,function(a,b){return b?a:"([^/]+)"}).replace(t,"(.*?)"),new RegExp("^"+a+"$")},_extractParameters:function(a,b){return a.exec(b).slice(1)}});var v=a.History=function(){this.handlers=[],h.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},w=/^[#\/]|\s+$/g,x=/^\/+|\/+$/g,y=/msie [\w.]+/,z=/\/$/;v.started=!1,h.extend(v.prototype,l,{interval:50,getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=this.location.pathname;var c=this.root.replace(z,"");a.indexOf(c)||(a=a.substr(c.length))}else a=this.getHash();return a.replace(w,"")},start:function(b){if(v.started)throw new Error("Backbone.history has already been started");v.started=!0,this.options=h.extend({},{root:"/"},this.options,b),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var c=this.getFragment(),d=document.documentMode,e=y.exec(navigator.userAgent.toLowerCase())&&(!d||7>=d);this.root=("/"+this.root+"/").replace(x,"/"),e&&this._wantsHashChange&&(this.iframe=a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(c)),this._hasPushState?a.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!e?a.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=c;var f=this.location,g=f.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!g?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&g&&f.hash&&(this.fragment=this.getHash().replace(w,""),this.history.replaceState({},document.title,this.root+this.fragment+f.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){a.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),v.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),this.loadUrl()||this.loadUrl(this.getHash()),void 0)},loadUrl:function(a){var b=this.fragment=this.getFragment(a),c=h.any(this.handlers,function(a){return a.route.test(b)?(a.callback(b),!0):void 0});return c},navigate:function(a,b){if(!v.started)return!1;if(b&&b!==!0||(b={trigger:b}),a=this.getFragment(a||""),this.fragment!==a){this.fragment=a;var c=this.root+a;if(this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}b.trigger&&this.loadUrl(a)}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),a.history=new v;var A=a.View=function(a){this.cid=h.uniqueId("view"),this._configure(a||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},B=/^(\S+)\s*(.*)$/,C=["model","collection","el","id","attributes","className","tagName","events"];h.extend(A.prototype,l,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(b,c){return this.$el&&this.undelegateEvents(),this.$el=b instanceof a.$?b:a.$(b),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(a||(a=h.result(this,"events"))){this.undelegateEvents();for(var b in a){var c=a[b];if(h.isFunction(c)||(c=this[a[b]]),!c)throw new Error('Method "'+a[b]+'" does not exist');var d=b.match(B),e=d[1],f=d[2];c=h.bind(c,this),e+=".delegateEvents"+this.cid,""===f?this.$el.on(e,c):this.$el.on(e,f,c)}}},undelegateEvents:function(){this.$el.off(".delegateEvents"+this.cid)},_configure:function(a){this.options&&(a=h.extend({},h.result(this,"options"),a)),h.extend(this,h.pick(a,C)),this.options=a},_ensureElement:function(){if(this.el)this.setElement(h.result(this,"el"),!1);else{var b=h.extend({},h.result(this,"attributes"));this.id&&(b.id=h.result(this,"id")),this.className&&(b["class"]=h.result(this,"className"));var c=a.$("<"+h.result(this,"tagName")+">").attr(b);this.setElement(c,!1)}}});var D={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.sync=function(b,c,d){var e=D[b];h.defaults(d||(d={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});var f={type:e,dataType:"json"};if(d.url||(f.url=h.result(c,"url")||F()),null!=d.data||!c||"create"!==b&&"update"!==b&&"patch"!==b||(f.contentType="application/json",f.data=JSON.stringify(d.attrs||c.toJSON(d))),d.emulateJSON&&(f.contentType="application/x-www-form-urlencoded",f.data=f.data?{model:f.data}:{}),d.emulateHTTP&&("PUT"===e||"DELETE"===e||"PATCH"===e)){f.type="POST",d.emulateJSON&&(f.data._method=e);var g=d.beforeSend;d.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",e),g?g.apply(this,arguments):void 0}}"GET"===f.type||d.emulateJSON||(f.processData=!1);var i=d.success;d.success=function(a){i&&i(c,a,d),c.trigger("sync",c,a,d)};var j=d.error;d.error=function(a){j&&j(c,a,d),c.trigger("error",c,a,d)};var k=d.xhr=a.ajax(h.extend(f,d));return c.trigger("request",c,k,d),k},a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var E=function(a,b){var c,d=this;c=a&&h.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)},h.extend(c,d,b);var e=function(){this.constructor=c};return e.prototype=d.prototype,c.prototype=new e,a&&h.extend(c.prototype,a),c.__super__=d.prototype,c};m.extend=n.extend=q.extend=A.extend=v.extend=E;var F=function(){throw new Error('A "url" property or function must be specified')}}.call(this);var Handlebars={};!function(a,b){a.VERSION="1.0.0",a.COMPILER_REVISION=4,a.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"},a.helpers={},a.partials={};var c=Object.prototype.toString,d="[object Function]",e="[object Object]";a.registerHelper=function(b,d,f){if(c.call(b)===e){if(f||d)throw new a.Exception("Arg not supported with multiple helpers");a.Utils.extend(this.helpers,b)}else f&&(d.not=f),this.helpers[b]=d},a.registerPartial=function(b,d){c.call(b)===e?a.Utils.extend(this.partials,b):this.partials[b]=d},a.registerHelper("helperMissing",function(a){if(2===arguments.length)return b;throw new Error("Missing helper: '"+a+"'")}),a.registerHelper("blockHelperMissing",function(b,e){var f=e.inverse||function(){},g=e.fn,h=c.call(b);return h===d&&(b=b.call(this)),b===!0?g(this):b===!1||null==b?f(this):"[object Array]"===h?b.length>0?a.helpers.each(b,e):f(this):g(b)}),a.K=function(){},a.createFrame=Object.create||function(b){a.K.prototype=b;var c=new a.K;return a.K.prototype=null,c},a.logger={DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,methodMap:{0:"debug",1:"info",2:"warn",3:"error"},log:function(b,c){if(a.logger.level<=b){var d=a.logger.methodMap[b];"undefined"!=typeof console&&console[d]&&console[d].call(console,c)}}},a.log=function(b,c){a.logger.log(b,c)},a.registerHelper("each",function(b,e){var f,g=e.fn,h=e.inverse,i=0,j="",k=c.call(b);if(k===d&&(b=b.call(this)),e.data&&(f=a.createFrame(e.data)),b&&"object"==typeof b)if(b instanceof Array)for(var l=b.length;l>i;i++)f&&(f.index=i),j+=g(b[i],{data:f});else for(var m in b)b.hasOwnProperty(m)&&(f&&(f.key=m),j+=g(b[m],{data:f}),i++);return 0===i&&(j=h(this)),j}),a.registerHelper("if",function(b,e){var f=c.call(b);return f===d&&(b=b.call(this)),!b||a.Utils.isEmpty(b)?e.inverse(this):e.fn(this)}),a.registerHelper("unless",function(b,c){return a.helpers["if"].call(this,b,{fn:c.inverse,inverse:c.fn})}),a.registerHelper("with",function(b,e){var f=c.call(b);return f===d&&(b=b.call(this)),a.Utils.isEmpty(b)?void 0:e.fn(b)}),a.registerHelper("log",function(b,c){var d=c.data&&null!=c.data.level?parseInt(c.data.level,10):1;a.log(d,b)});var f=function(){function a(){this.yy={}}var b={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,simpleInverse:6,statements:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,inMustache:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,params:27,hash:28,dataName:29,param:30,STRING:31,INTEGER:32,BOOLEAN:33,hashSegments:34,hashSegment:35,ID:36,EQUALS:37,DATA:38,pathSegments:39,SEP:40,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",31:"STRING",32:"INTEGER",33:"BOOLEAN",36:"ID",37:"EQUALS",38:"DATA",40:"SEP"},productions_:[0,[3,2],[4,2],[4,3],[4,2],[4,1],[4,1],[4,0],[7,1],[7,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,3],[13,4],[6,2],[17,3],[17,2],[17,2],[17,1],[17,1],[27,2],[27,1],[30,1],[30,1],[30,1],[30,1],[30,1],[28,1],[34,2],[34,1],[35,3],[35,3],[35,3],[35,3],[35,3],[26,1],[26,1],[26,1],[29,2],[21,1],[39,3],[39,1]],performAction:function(a,b,c,d,e,f){var g=f.length-1;switch(e){case 1:return f[g-1];case 2:this.$=new d.ProgramNode([],f[g]);break;case 3:this.$=new d.ProgramNode(f[g-2],f[g]);break;case 4:this.$=new d.ProgramNode(f[g-1],[]);break;case 5:this.$=new d.ProgramNode(f[g]);break;case 6:this.$=new d.ProgramNode([],[]);break;case 7:this.$=new d.ProgramNode([]);break;case 8:this.$=[f[g]];break;case 9:f[g-1].push(f[g]),this.$=f[g-1];break;case 10:this.$=new d.BlockNode(f[g-2],f[g-1].inverse,f[g-1],f[g]);break;case 11:this.$=new d.BlockNode(f[g-2],f[g-1],f[g-1].inverse,f[g]);break;case 12:this.$=f[g];break;case 13:this.$=f[g];break;case 14:this.$=new d.ContentNode(f[g]);break;case 15:this.$=new d.CommentNode(f[g]);break;case 16:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1]);break;case 17:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1]);break;case 18:this.$=f[g-1];break;case 19:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1],"&"===f[g-2][2]);break;case 20:this.$=new d.MustacheNode(f[g-1][0],f[g-1][1],!0);break;case 21:this.$=new d.PartialNode(f[g-1]);break;case 22:this.$=new d.PartialNode(f[g-2],f[g-1]);break;case 23:break;case 24:this.$=[[f[g-2]].concat(f[g-1]),f[g]];break;case 25:this.$=[[f[g-1]].concat(f[g]),null];break;case 26:this.$=[[f[g-1]],f[g]];break;case 27:this.$=[[f[g]],null];break;case 28:this.$=[[f[g]],null];break;case 29:f[g-1].push(f[g]),this.$=f[g-1];break;case 30:this.$=[f[g]];break;case 31:this.$=f[g];break;case 32:this.$=new d.StringNode(f[g]);break;case 33:this.$=new d.IntegerNode(f[g]);break;case 34:this.$=new d.BooleanNode(f[g]);break;case 35:this.$=f[g];break;case 36:this.$=new d.HashNode(f[g]);break;case 37:f[g-1].push(f[g]),this.$=f[g-1];break;case 38:this.$=[f[g]];break;case 39:this.$=[f[g-2],f[g]];break;case 40:this.$=[f[g-2],new d.StringNode(f[g])];break;case 41:this.$=[f[g-2],new d.IntegerNode(f[g])];break;case 42:this.$=[f[g-2],new d.BooleanNode(f[g])];break;case 43:this.$=[f[g-2],f[g]];break;case 44:this.$=new d.PartialNameNode(f[g]);break;case 45:this.$=new d.PartialNameNode(new d.StringNode(f[g]));break;case 46:this.$=new d.PartialNameNode(new d.IntegerNode(f[g]));break;case 47:this.$=new d.DataNode(f[g]);break;case 48:this.$=new d.IdNode(f[g]);break;case 49:f[g-2].push({part:f[g],separator:f[g-1]}),this.$=f[g-2];break;case 50:this.$=[{part:f[g]}]}},table:[{3:1,4:2,5:[2,7],6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],22:[1,14],23:[1,15],25:[1,16]},{1:[3]},{5:[1,17]},{5:[2,6],7:18,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,6],22:[1,14],23:[1,15],25:[1,16]},{5:[2,5],6:20,8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,5],22:[1,14],23:[1,15],25:[1,16]},{17:23,18:[1,22],21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,8],14:[2,8],15:[2,8],16:[2,8],19:[2,8],20:[2,8],22:[2,8],23:[2,8],25:[2,8]},{4:29,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{4:30,6:3,7:4,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,5],20:[2,7],22:[1,14],23:[1,15],25:[1,16]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{17:31,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:32,21:24,29:25,36:[1,28],38:[1,27],39:26},{17:33,21:24,29:25,36:[1,28],38:[1,27],39:26},{21:35,26:34,31:[1,36],32:[1,37],36:[1,28],39:26},{1:[2,1]},{5:[2,2],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,2],22:[1,14],23:[1,15],25:[1,16]},{17:23,21:24,29:25,36:[1,28],38:[1,27],39:26},{5:[2,4],7:38,8:6,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,4],22:[1,14],23:[1,15],25:[1,16]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{5:[2,23],14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{18:[1,39]},{18:[2,27],21:44,24:[2,27],27:40,28:41,29:48,30:42,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,28],24:[2,28]},{18:[2,48],24:[2,48],31:[2,48],32:[2,48],33:[2,48],36:[2,48],38:[2,48],40:[1,51]},{21:52,36:[1,28],39:26},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],38:[2,50],40:[2,50]},{10:53,20:[1,54]},{10:55,20:[1,54]},{18:[1,56]},{18:[1,57]},{24:[1,58]},{18:[1,59],21:60,36:[1,28],39:26},{18:[2,44],36:[2,44]},{18:[2,45],36:[2,45]},{18:[2,46],36:[2,46]},{5:[2,3],8:21,9:7,11:8,12:9,13:10,14:[1,11],15:[1,12],16:[1,13],19:[1,19],20:[2,3],22:[1,14],23:[1,15],25:[1,16]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{18:[2,25],21:44,24:[2,25],28:61,29:48,30:62,31:[1,45],32:[1,46],33:[1,47],34:43,35:49,36:[1,50],38:[1,27],39:26},{18:[2,26],24:[2,26]},{18:[2,30],24:[2,30],31:[2,30],32:[2,30],33:[2,30],36:[2,30],38:[2,30]},{18:[2,36],24:[2,36],35:63,36:[1,64]},{18:[2,31],24:[2,31],31:[2,31],32:[2,31],33:[2,31],36:[2,31],38:[2,31]},{18:[2,32],24:[2,32],31:[2,32],32:[2,32],33:[2,32],36:[2,32],38:[2,32]},{18:[2,33],24:[2,33],31:[2,33],32:[2,33],33:[2,33],36:[2,33],38:[2,33]},{18:[2,34],24:[2,34],31:[2,34],32:[2,34],33:[2,34],36:[2,34],38:[2,34]},{18:[2,35],24:[2,35],31:[2,35],32:[2,35],33:[2,35],36:[2,35],38:[2,35]},{18:[2,38],24:[2,38],36:[2,38]},{18:[2,50],24:[2,50],31:[2,50],32:[2,50],33:[2,50],36:[2,50],37:[1,65],38:[2,50],40:[2,50]},{36:[1,66]},{18:[2,47],24:[2,47],31:[2,47],32:[2,47],33:[2,47],36:[2,47],38:[2,47]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{21:67,36:[1,28],39:26},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,68]},{18:[2,24],24:[2,24]},{18:[2,29],24:[2,29],31:[2,29],32:[2,29],33:[2,29],36:[2,29],38:[2,29]},{18:[2,37],24:[2,37],36:[2,37]},{37:[1,65]},{21:69,29:73,31:[1,70],32:[1,71],33:[1,72],36:[1,28],38:[1,27],39:26},{18:[2,49],24:[2,49],31:[2,49],32:[2,49],33:[2,49],36:[2,49],38:[2,49],40:[2,49]},{18:[1,74]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{18:[2,39],24:[2,39],36:[2,39]},{18:[2,40],24:[2,40],36:[2,40]},{18:[2,41],24:[2,41],36:[2,41]},{18:[2,42],24:[2,42],36:[2,42]},{18:[2,43],24:[2,43],36:[2,43]},{5:[2,18],14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]}],defaultActions:{17:[2,1]},parseError:function(a){throw new Error(a)},parse:function(a){function b(){var a;return a=c.lexer.lex()||1,"number"!=typeof a&&(a=c.symbols_[a]||a),a}var c=this,d=[0],e=[null],f=[],g=this.table,h="",i=0,j=0,k=0;this.lexer.setInput(a),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var l=this.lexer.yylloc;f.push(l);var m=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var n,o,p,q,r,s,t,u,v,w={};;){if(p=d[d.length-1],this.defaultActions[p]?q=this.defaultActions[p]:((null===n||"undefined"==typeof n)&&(n=b()),q=g[p]&&g[p][n]),"undefined"==typeof q||!q.length||!q[0]){var x="";if(!k){v=[];for(s in g[p])this.terminals_[s]&&s>2&&v.push("'"+this.terminals_[s]+"'");x=this.lexer.showPosition?"Parse error on line "+(i+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[n]||n)+"'":"Parse error on line "+(i+1)+": Unexpected "+(1==n?"end of input":"'"+(this.terminals_[n]||n)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[n]||n,line:this.lexer.yylineno,loc:l,expected:v})}}if(q[0]instanceof Array&&q.length>1)throw new Error("Parse Error: multiple actions possible at state: "+p+", token: "+n);switch(q[0]){case 1:d.push(n),e.push(this.lexer.yytext),f.push(this.lexer.yylloc),d.push(q[1]),n=null,o?(n=o,o=null):(j=this.lexer.yyleng,h=this.lexer.yytext,i=this.lexer.yylineno,l=this.lexer.yylloc,k>0&&k--);break;case 2:if(t=this.productions_[q[1]][1],w.$=e[e.length-t],w._$={first_line:f[f.length-(t||1)].first_line,last_line:f[f.length-1].last_line,first_column:f[f.length-(t||1)].first_column,last_column:f[f.length-1].last_column},m&&(w._$.range=[f[f.length-(t||1)].range[0],f[f.length-1].range[1]]),r=this.performAction.call(w,h,j,i,this.yy,q[1],e,f),"undefined"!=typeof r)return r;t&&(d=d.slice(0,2*-1*t),e=e.slice(0,-1*t),f=f.slice(0,-1*t)),d.push(this.productions_[q[1]][0]),e.push(w.$),f.push(w._$),u=g[d[d.length-2]][d[d.length-1]],d.push(u);break;case 3:return!0}}return!0}},c=function(){var a={EOF:1,parseError:function(a,b){if(!this.yy.parser)throw new Error(a);this.yy.parser.parseError(a,b)},setInput:function(a){return this._input=a,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var a=this._input[0];this.yytext+=a,this.yyleng++,this.offset++,this.match+=a,this.matched+=a;var b=a.match(/(?:\r\n?|\n).*/g);return b?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),a},unput:function(a){var b=a.length,c=a.split(/(?:\r\n?|\n)/g);this._input=a+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-b-1),this.offset-=b;var d=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),c.length-1&&(this.yylineno-=c.length-1);var e=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:c?(c.length===d.length?this.yylloc.first_column:0)+d[d.length-c.length].length-c[0].length:this.yylloc.first_column-b},this.options.ranges&&(this.yylloc.range=[e[0],e[0]+this.yyleng-b]),this},more:function(){return this._more=!0,this},less:function(a){this.unput(this.match.slice(a))},pastInput:function(){var a=this.matched.substr(0,this.matched.length-this.match.length);return(a.length>20?"...":"")+a.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var a=this.match;return a.length<20&&(a+=this._input.substr(0,20-a.length)),(a.substr(0,20)+(a.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var a=this.pastInput(),b=new Array(a.length+1).join("-");return a+this.upcomingInput()+"\n"+b+"^"},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var a,b,c,d,e;this._more||(this.yytext="",this.match="");for(var f=this._currentRules(),g=0;g<f.length&&(c=this._input.match(this.rules[f[g]]),!c||b&&!(c[0].length>b[0].length)||(b=c,d=g,this.options.flex));g++);return b?(e=b[0].match(/(?:\r\n?|\n).*/g),e&&(this.yylineno+=e.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:e?e[e.length-1].length-e[e.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+b[0].length},this.yytext+=b[0],this.match+=b[0],this.matches=b,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(b[0].length),this.matched+=b[0],a=this.performAction.call(this,this.yy,this,f[d],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),a?a:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var a=this.next();return"undefined"!=typeof a?a:this.lex()},begin:function(a){this.conditionStack.push(a)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(a){this.begin(a)}};return a.options={},a.performAction=function(a,b,c,d){switch(c){case 0:return b.yytext="\\",14;case 1:if("\\"!==b.yytext.slice(-1)&&this.begin("mu"),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1),this.begin("emu")),b.yytext)return 14;break;case 2:return 14;case 3:return"\\"!==b.yytext.slice(-1)&&this.popState(),"\\"===b.yytext.slice(-1)&&(b.yytext=b.yytext.substr(0,b.yyleng-1)),14;case 4:return b.yytext=b.yytext.substr(0,b.yyleng-4),this.popState(),15;case 5:return 25;case 6:return 16;case 7:return 20;case 8:return 19;case 9:return 19;case 10:return 23;case 11:return 22;case 12:this.popState(),this.begin("com");break;case 13:return b.yytext=b.yytext.substr(3,b.yyleng-5),this.popState(),15;case 14:return 22;case 15:return 37;case 16:return 36;case 17:return 36;case 18:return 40;case 19:break;case 20:return this.popState(),24;case 21:return this.popState(),18;case 22:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\"/g,'"'),31;case 23:return b.yytext=b.yytext.substr(1,b.yyleng-2).replace(/\\'/g,"'"),31;case 24:return 38;case 25:return 33;case 26:return 33;case 27:return 32;case 28:return 36;case 29:return b.yytext=b.yytext.substr(1,b.yyleng-2),36;case 30:return"INVALID";case 31:return 5}},a.rules=[/^(?:\\\\(?=(\{\{)))/,/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\{\{>)/,/^(?:\{\{#)/,/^(?:\{\{\/)/,/^(?:\{\{\^)/,/^(?:\{\{\s*else\b)/,/^(?:\{\{\{)/,/^(?:\{\{&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{)/,/^(?:=)/,/^(?:\.(?=[}\/ ]))/,/^(?:\.\.)/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}\}\})/,/^(?:\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=[}\s]))/,/^(?:false(?=[}\s]))/,/^(?:-?[0-9]+(?=[}\s]))/,/^(?:[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.]))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],a.conditions={mu:{rules:[5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31],inclusive:!1},emu:{rules:[3],inclusive:!1},com:{rules:[4],inclusive:!1},INITIAL:{rules:[0,1,2,31],inclusive:!0}},a}();return b.lexer=c,a.prototype=b,b.Parser=a,new a}();a.Parser=f,a.parse=function(b){return b.constructor===a.AST.ProgramNode?b:(a.Parser.yy=a.AST,a.Parser.parse(b))},a.AST={},a.AST.ProgramNode=function(b,c){this.type="program",this.statements=b,c&&(this.inverse=new a.AST.ProgramNode(c))},a.AST.MustacheNode=function(a,b,c){this.type="mustache",this.escaped=!c,this.hash=b;var d=this.id=a[0],e=this.params=a.slice(1),f=this.eligibleHelper=d.isSimple;this.isHelper=f&&(e.length||b)},a.AST.PartialNode=function(a,b){this.type="partial",this.partialName=a,this.context=b},a.AST.BlockNode=function(b,c,d,e){var f=function(b,c){if(b.original!==c.original)throw new a.Exception(b.original+" doesn't match "+c.original)};f(b.id,e),this.type="block",this.mustache=b,this.program=c,this.inverse=d,this.inverse&&!this.program&&(this.isInverse=!0)},a.AST.ContentNode=function(a){this.type="content",this.string=a},a.AST.HashNode=function(a){this.type="hash",this.pairs=a},a.AST.IdNode=function(b){this.type="ID";for(var c="",d=[],e=0,f=0,g=b.length;g>f;f++){var h=b[f].part;if(c+=(b[f].separator||"")+h,".."===h||"."===h||"this"===h){if(d.length>0)throw new a.Exception("Invalid path: "+c);".."===h?e++:this.isScoped=!0}else d.push(h)}this.original=c,this.parts=d,this.string=d.join("."),this.depth=e,this.isSimple=1===b.length&&!this.isScoped&&0===e,this.stringModeValue=this.string},a.AST.PartialNameNode=function(a){this.type="PARTIAL_NAME",this.name=a.original},a.AST.DataNode=function(a){this.type="DATA",this.id=a},a.AST.StringNode=function(a){this.type="STRING",this.original=this.string=this.stringModeValue=a},a.AST.IntegerNode=function(a){this.type="INTEGER",this.original=this.integer=a,this.stringModeValue=Number(a)},a.AST.BooleanNode=function(a){this.type="BOOLEAN",this.bool=a,this.stringModeValue="true"===a},a.AST.CommentNode=function(a){this.type="comment",this.comment=a};var g=["description","fileName","lineNumber","message","name","number","stack"];a.Exception=function(){for(var a=Error.prototype.constructor.apply(this,arguments),b=0;b<g.length;b++)this[g[b]]=a[g[b]]},a.Exception.prototype=new Error,a.SafeString=function(a){this.string=a},a.SafeString.prototype.toString=function(){return this.string.toString()};var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},i=/[&<>"'`]/g,j=/[&<>"'`]/,k=function(a){return h[a]||"&amp;"};a.Utils={extend:function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])},escapeExpression:function(b){return b instanceof a.SafeString?b.toString():null==b||b===!1?"":(b=b.toString(),j.test(b)?b.replace(i,k):b)},isEmpty:function(a){return a||0===a?"[object Array]"===c.call(a)&&0===a.length?!0:!1:!0}};var l=a.Compiler=function(){},m=a.JavaScriptCompiler=function(){};l.prototype={compiler:l,disassemble:function(){for(var a,b,c,d=this.opcodes,e=[],f=0,g=d.length;g>f;f++)if(a=d[f],"DECLARE"===a.opcode)e.push("DECLARE "+a.name+"="+a.value);else{b=[];for(var h=0;h<a.args.length;h++)c=a.args[h],"string"==typeof c&&(c='"'+c.replace("\n","\\n")+'"'),b.push(c);e.push(a.opcode+" "+b.join(" "))}return e.join("\n")},equals:function(a){var b=this.opcodes.length;if(a.opcodes.length!==b)return!1;for(var c=0;b>c;c++){var d=this.opcodes[c],e=a.opcodes[c];if(d.opcode!==e.opcode||d.args.length!==e.args.length)return!1;for(var f=0;f<d.args.length;f++)if(d.args[f]!==e.args[f])return!1}if(b=this.children.length,a.children.length!==b)return!1;for(c=0;b>c;c++)if(!this.children[c].equals(a.children[c]))return!1;return!0},guid:0,compile:function(a,b){this.children=[],this.depths={list:[]},this.options=b;var c=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,"if":!0,unless:!0,"with":!0,log:!0},c)for(var d in c)this.options.knownHelpers[d]=c[d];return this.program(a)},accept:function(a){return this[a.type](a)},program:function(a){var b,c=a.statements;this.opcodes=[];for(var d=0,e=c.length;e>d;d++)b=c[d],this[b.type](b);return this.isSimple=1===e,this.depths.list=this.depths.list.sort(function(a,b){return a-b}),this},compileProgram:function(a){var b,c=(new this.compiler).compile(a,this.options),d=this.guid++;this.usePartial=this.usePartial||c.usePartial,this.children[d]=c;for(var e=0,f=c.depths.list.length;f>e;e++)b=c.depths.list[e],2>b||this.addDepth(b-1);return d},block:function(a){var b=a.mustache,c=a.program,d=a.inverse;c&&(c=this.compileProgram(c)),d&&(d=this.compileProgram(d));var e=this.classifyMustache(b);"helper"===e?this.helperMustache(b,c,d):"simple"===e?(this.simpleMustache(b),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousMustache(b,c,d),this.opcode("pushProgram",c),this.opcode("pushProgram",d),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(a){var b,c,d=a.pairs;this.opcode("pushHash");for(var e=0,f=d.length;f>e;e++)b=d[e],c=b[1],this.options.stringParams?(c.depth&&this.addDepth(c.depth),this.opcode("getContext",c.depth||0),this.opcode("pushStringParam",c.stringModeValue,c.type)):this.accept(c),this.opcode("assignToHash",b[0]);this.opcode("popHash")},partial:function(a){var b=a.partialName;this.usePartial=!0,a.context?this.ID(a.context):this.opcode("push","depth0"),this.opcode("invokePartial",b.name),this.opcode("append")
},content:function(a){this.opcode("appendContent",a.string)},mustache:function(a){var b=this.options,c=this.classifyMustache(a);"simple"===c?this.simpleMustache(a):"helper"===c?this.helperMustache(a):this.ambiguousMustache(a),a.escaped&&!b.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousMustache:function(a,b,c){var d=a.id,e=d.parts[0],f=null!=b||null!=c;this.opcode("getContext",d.depth),this.opcode("pushProgram",b),this.opcode("pushProgram",c),this.opcode("invokeAmbiguous",e,f)},simpleMustache:function(a){var b=a.id;"DATA"===b.type?this.DATA(b):b.parts.length?this.ID(b):(this.addDepth(b.depth),this.opcode("getContext",b.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperMustache:function(a,b,c){var d=this.setupFullMustacheParams(a,b,c),e=a.id.parts[0];if(this.options.knownHelpers[e])this.opcode("invokeKnownHelper",d.length,e);else{if(this.options.knownHelpersOnly)throw new Error("You specified knownHelpersOnly, but used the unknown helper "+e);this.opcode("invokeHelper",d.length,e)}},ID:function(a){this.addDepth(a.depth),this.opcode("getContext",a.depth);var b=a.parts[0];b?this.opcode("lookupOnContext",a.parts[0]):this.opcode("pushContext");for(var c=1,d=a.parts.length;d>c;c++)this.opcode("lookup",a.parts[c])},DATA:function(b){if(this.options.data=!0,b.id.isScoped||b.id.depth)throw new a.Exception("Scoped data references are not supported: "+b.original);this.opcode("lookupData");for(var c=b.id.parts,d=0,e=c.length;e>d;d++)this.opcode("lookup",c[d])},STRING:function(a){this.opcode("pushString",a.string)},INTEGER:function(a){this.opcode("pushLiteral",a.integer)},BOOLEAN:function(a){this.opcode("pushLiteral",a.bool)},comment:function(){},opcode:function(a){this.opcodes.push({opcode:a,args:[].slice.call(arguments,1)})},declare:function(a,b){this.opcodes.push({opcode:"DECLARE",name:a,value:b})},addDepth:function(a){if(isNaN(a))throw new Error("EWOT");0!==a&&(this.depths[a]||(this.depths[a]=!0,this.depths.list.push(a)))},classifyMustache:function(a){var b=a.isHelper,c=a.eligibleHelper,d=this.options;if(c&&!b){var e=a.id.parts[0];d.knownHelpers[e]?b=!0:d.knownHelpersOnly&&(c=!1)}return b?"helper":c?"ambiguous":"simple"},pushParams:function(a){for(var b,c=a.length;c--;)b=a[c],this.options.stringParams?(b.depth&&this.addDepth(b.depth),this.opcode("getContext",b.depth||0),this.opcode("pushStringParam",b.stringModeValue,b.type)):this[b.type](b)},setupMustacheParams:function(a){var b=a.params;return this.pushParams(b),a.hash?this.hash(a.hash):this.opcode("emptyHash"),b},setupFullMustacheParams:function(a,b,c){var d=a.params;return this.pushParams(d),this.opcode("pushProgram",b),this.opcode("pushProgram",c),a.hash?this.hash(a.hash):this.opcode("emptyHash"),d}};var n=function(a){this.value=a};m.prototype={nameLookup:function(a,b){return/^[0-9]+$/.test(b)?a+"["+b+"]":m.isValidJavaScriptVariableName(b)?a+"."+b:a+"['"+b+"']"},appendToBuffer:function(a){return this.environment.isSimple?"return "+a+";":{appendToBuffer:!0,content:a,toString:function(){return"buffer += "+a+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(b,c,d,e){this.environment=b,this.options=c||{},a.log(a.logger.DEBUG,this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!d,this.context=d||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.compileStack=[],this.inlineStack=[],this.compileChildren(b,c);var f,g=b.opcodes;for(this.i=0,r=g.length;this.i<r;this.i++)f=g[this.i],"DECLARE"===f.opcode?this[f.name]=f.value:this[f.opcode].apply(this,f.args);return this.createFunctionContext(e)},nextOpcode:function(){var a=this.environment.opcodes;return a[this.i+1]},eat:function(){this.i=this.i+1},preamble:function(){var a=[];if(this.isChild)a.push("");else{var b=this.namespace,c="helpers = this.merge(helpers, "+b+".helpers);";this.environment.usePartial&&(c=c+" partials = this.merge(partials, "+b+".partials);"),this.options.data&&(c+=" data = data || {};"),a.push(c)}this.environment.isSimple?a.push(""):a.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=a},createFunctionContext:function(b){var c=this.stackVars.concat(this.registers.list);if(c.length>0&&(this.source[1]=this.source[1]+", "+c.join(", ")),!this.isChild)for(var d in this.context.aliases)this.context.aliases.hasOwnProperty(d)&&(this.source[1]=this.source[1]+", "+d+"="+this.context.aliases[d]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.source.push("return buffer;");for(var e=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],f=0,g=this.environment.depths.list.length;g>f;f++)e.push("depth"+this.environment.depths.list[f]);var h=this.mergeSource();if(!this.isChild){var i=a.COMPILER_REVISION,j=a.REVISION_CHANGES[i];h="this.compilerInfo = ["+i+",'"+j+"'];\n"+h}if(b)return e.push(h),Function.apply(this,e);var k="function "+(this.name||"")+"("+e.join(",")+") {\n  "+h+"}";return a.log(a.logger.DEBUG,k+"\n\n"),k},mergeSource:function(){for(var a,c="",d=0,e=this.source.length;e>d;d++){var f=this.source[d];f.appendToBuffer?a=a?a+"\n    + "+f.content:f.content:(a&&(c+="buffer += "+a+";\n  ",a=b),c+=f+"\n  ")}return c},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a),this.replaceStack(function(b){return a.splice(1,0,b),"blockHelperMissing.call("+a.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var a=["depth0"];this.setupParams(0,a);var b=this.topStack();a.splice(1,0,b),a[a.length-1]="options",this.source.push("if (!"+this.lastHelper+") { "+b+" = blockHelperMissing.call("+a.join(", ")+"); }")},appendContent:function(a){this.source.push(this.appendToBuffer(this.quotedString(a)))},append:function(){this.flushInline();var a=this.popStack();this.source.push("if("+a+" || "+a+" === 0) { "+this.appendToBuffer(a)+" }"),this.environment.isSimple&&this.source.push("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.source.push(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(a){this.lastContext!==a&&(this.lastContext=a)},lookupOnContext:function(a){this.push(this.nameLookup("depth"+this.lastContext,a,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(a){return"typeof "+a+" === functionType ? "+a+".apply(depth0) : "+a})},lookup:function(a){this.replaceStack(function(b){return b+" == null || "+b+" === false ? "+b+" : "+this.nameLookup(b,a,"context")})},lookupData:function(){this.push("data")},pushStringParam:function(a,b){this.pushStackLiteral("depth"+this.lastContext),this.pushString(b),"string"==typeof a?this.pushString(a):this.pushStackLiteral(a)},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.register("hashTypes","{}"),this.register("hashContexts","{}"))},pushHash:function(){this.hash={values:[],types:[],contexts:[]}},popHash:function(){var a=this.hash;this.hash=b,this.options.stringParams&&(this.register("hashContexts","{"+a.contexts.join(",")+"}"),this.register("hashTypes","{"+a.types.join(",")+"}")),this.push("{\n    "+a.values.join(",\n    ")+"\n  }")},pushString:function(a){this.pushStackLiteral(this.quotedString(a))},push:function(a){return this.inlineStack.push(a),a},pushLiteral:function(a){this.pushStackLiteral(a)},pushProgram:function(a){null!=a?this.pushStackLiteral(this.programExpression(a)):this.pushStackLiteral(null)},invokeHelper:function(a,b){this.context.aliases.helperMissing="helpers.helperMissing";var c=this.lastHelper=this.setupHelper(a,b,!0),d=this.nameLookup("depth"+this.lastContext,b,"context");this.push(c.name+" || "+d),this.replaceStack(function(a){return a+" ? "+a+".call("+c.callParams+") "+": helperMissing.call("+c.helperMissingParams+")"})},invokeKnownHelper:function(a,b){var c=this.setupHelper(a,b);this.push(c.name+".call("+c.callParams+")")},invokeAmbiguous:function(a,b){this.context.aliases.functionType='"function"',this.pushStackLiteral("{}");var c=this.setupHelper(0,a,b),d=this.lastHelper=this.nameLookup("helpers",a,"helper"),e=this.nameLookup("depth"+this.lastContext,a,"context"),f=this.nextStack();this.source.push("if ("+f+" = "+d+") { "+f+" = "+f+".call("+c.callParams+"); }"),this.source.push("else { "+f+" = "+e+"; "+f+" = typeof "+f+" === functionType ? "+f+".apply(depth0) : "+f+"; }")},invokePartial:function(a){var b=[this.nameLookup("partials",a,"partial"),"'"+a+"'",this.popStack(),"helpers","partials"];this.options.data&&b.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+b.join(", ")+")")},assignToHash:function(a){var b,c,d=this.popStack();this.options.stringParams&&(c=this.popStack(),b=this.popStack());var e=this.hash;b&&e.contexts.push("'"+a+"': "+b),c&&e.types.push("'"+a+"': "+c),e.values.push("'"+a+"': ("+d+")")},compiler:m,compileChildren:function(a,b){for(var c,d,e=a.children,f=0,g=e.length;g>f;f++){c=e[f],d=new this.compiler;var h=this.matchExistingProgram(c);null==h?(this.context.programs.push(""),h=this.context.programs.length,c.index=h,c.name="program"+h,this.context.programs[h]=d.compile(c,b,this.context),this.context.environments[h]=c):(c.index=h,c.name="program"+h)}},matchExistingProgram:function(a){for(var b=0,c=this.context.environments.length;c>b;b++){var d=this.context.environments[b];if(d&&d.equals(a))return b}},programExpression:function(a){if(this.context.aliases.self="this",null==a)return"self.noop";for(var b,c=this.environment.children[a],d=c.depths.list,e=[c.index,c.name,"data"],f=0,g=d.length;g>f;f++)b=d[f],1===b?e.push("depth0"):e.push("depth"+(b-1));return(0===d.length?"self.program(":"self.programWithDepth(")+e.join(", ")+")"},register:function(a,b){this.useRegister(a),this.source.push(a+" = "+b+";")},useRegister:function(a){this.registers[a]||(this.registers[a]=!0,this.registers.list.push(a))},pushStackLiteral:function(a){return this.push(new n(a))},pushStack:function(a){this.flushInline();var b=this.incrStack();return a&&this.source.push(b+" = "+a+";"),this.compileStack.push(b),b},replaceStack:function(a){var b,c="",d=this.isInline();if(d){var e=this.popStack(!0);if(e instanceof n)b=e.value;else{var f=this.stackSlot?this.topStackName():this.incrStack();c="("+this.push(f)+" = "+e+"),",b=this.topStack()}}else b=this.topStack();var g=a.call(this,b);return d?((this.inlineStack.length||this.compileStack.length)&&this.popStack(),this.push("("+c+g+")")):(/^stack/.test(b)||(b=this.nextStack()),this.source.push(b+" = ("+c+g+");")),b},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var a=this.inlineStack;if(a.length){this.inlineStack=[];for(var b=0,c=a.length;c>b;b++){var d=a[b];d instanceof n?this.compileStack.push(d):this.pushStack(d)}}},isInline:function(){return this.inlineStack.length},popStack:function(a){var b=this.isInline(),c=(b?this.inlineStack:this.compileStack).pop();return!a&&c instanceof n?c.value:(b||this.stackSlot--,c)},topStack:function(a){var b=this.isInline()?this.inlineStack:this.compileStack,c=b[b.length-1];return!a&&c instanceof n?c.value:c},quotedString:function(a){return'"'+a.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(a,b,c){var d=[];this.setupParams(a,d,c);var e=this.nameLookup("helpers",b,"helper");return{params:d,name:e,callParams:["depth0"].concat(d).join(", "),helperMissingParams:c&&["depth0",this.quotedString(b)].concat(d).join(", ")}},setupParams:function(a,b,c){var d,e,f,g=[],h=[],i=[];g.push("hash:"+this.popStack()),e=this.popStack(),f=this.popStack(),(f||e)&&(f||(this.context.aliases.self="this",f="self.noop"),e||(this.context.aliases.self="this",e="self.noop"),g.push("inverse:"+e),g.push("fn:"+f));for(var j=0;a>j;j++)d=this.popStack(),b.push(d),this.options.stringParams&&(i.push(this.popStack()),h.push(this.popStack()));return this.options.stringParams&&(g.push("contexts:["+h.join(",")+"]"),g.push("types:["+i.join(",")+"]"),g.push("hashContexts:hashContexts"),g.push("hashTypes:hashTypes")),this.options.data&&g.push("data:data"),g="{"+g.join(",")+"}",c?(this.register("options",g),b.push("options")):b.push(g),b.join(", ")}};for(var o="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),p=m.RESERVED_WORDS={},q=0,r=o.length;r>q;q++)p[o[q]]=!0;m.isValidJavaScriptVariableName=function(a){return!m.RESERVED_WORDS[a]&&/^[a-zA-Z_$][0-9a-zA-Z_$]+$/.test(a)?!0:!1},a.precompile=function(b,c){if(null==b||"string"!=typeof b&&b.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+b);c=c||{},"data"in c||(c.data=!0);var d=a.parse(b),e=(new l).compile(d,c);return(new m).compile(e,c)},a.compile=function(c,d){function e(){var e=a.parse(c),f=(new l).compile(e,d),g=(new m).compile(f,d,b,!0);return a.template(g)}if(null==c||"string"!=typeof c&&c.constructor!==a.AST.ProgramNode)throw new a.Exception("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+c);d=d||{},"data"in d||(d.data=!0);var f;return function(a,b){return f||(f=e()),f.call(this,a,b)}},a.VM={template:function(b){var c={escapeExpression:a.Utils.escapeExpression,invokePartial:a.VM.invokePartial,programs:[],program:function(b,c,d){var e=this.programs[b];return d?e=a.VM.program(b,c,d):e||(e=this.programs[b]=a.VM.program(b,c)),e},merge:function(b,c){var d=b||c;return b&&c&&(d={},a.Utils.extend(d,c),a.Utils.extend(d,b)),d},programWithDepth:a.VM.programWithDepth,noop:a.VM.noop,compilerInfo:null};return function(d,e){e=e||{};var f=b.call(c,a,d,e.helpers,e.partials,e.data),g=c.compilerInfo||[],h=g[0]||1,i=a.COMPILER_REVISION;if(h!==i){if(i>h){var j=a.REVISION_CHANGES[i],k=a.REVISION_CHANGES[h];throw"Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+j+") or downgrade your runtime to an older version ("+k+")."}throw"Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+g[1]+")."}return f}},programWithDepth:function(a,b,c){var d=Array.prototype.slice.call(arguments,3),e=function(a,e){return e=e||{},b.apply(this,[a,e.data||c].concat(d))};return e.program=a,e.depth=d.length,e},program:function(a,b,c){var d=function(a,d){return d=d||{},b(a,d.data||c)};return d.program=a,d.depth=0,d},noop:function(){return""},invokePartial:function(c,d,e,f,g,h){var i={helpers:f,partials:g,data:h};if(c===b)throw new a.Exception("The partial "+d+" could not be found");if(c instanceof Function)return c(e,i);if(a.compile)return g[d]=a.compile(c,{data:h!==b}),g[d](e,i);throw new a.Exception("The partial "+d+" could not be compiled when running in runtime-only mode")}},a.template=a.VM.template}(Handlebars),_.browser={ie6:!window.XMLHttpRequest,ie:navigator.userAgent.indexOf("MSIE")>-1,opera:navigator.userAgent.indexOf("Opera")>-1,safari:navigator.userAgent.indexOf("Safari")>-1,firefox:navigator.userAgent.indexOf("Firefox")>-1,chrome:navigator.userAgent.indexOf("Chrome")>-1,ioschrome:navigator.userAgent.indexOf("CriOS")>-1,mac:navigator.platform.indexOf("Mac")>-1,win:navigator.platform.indexOf("Win")>-1,linux:navigator.platform.indexOf("Linux")>-1,ipod:navigator.platform.indexOf("iPhod")>-1,iphone:navigator.platform.indexOf("iPhone")>-1,ipad:navigator.platform.indexOf("iPad")>-1,android:navigator.userAgent.indexOf("Android")>-1,wmobile:navigator.userAgent.indexOf("Windows CE")>-1||navigator.userAgent.indexOf("Windows Mobile")>-1||navigator.userAgent.indexOf("Windows Phone")>-1,symbian:navigator.userAgent.indexOf("Symbian")>-1},_.isEmail=function(a){var b=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return b.test(a)},_.isUrl=function(a){var b=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return b.test(a)?!0:!1},_.capitalize=function(a){return a=null==a?"":String(a),a.charAt(0).toUpperCase()+a.slice(1)},_.decl=function(a,b){var c=[2,0,1,1,1,2];return b[a%100>4&&20>a%100?2:c[5>a%10?a%10:5]]},_.toJSON=function(a){return"object"!=typeof a&&(a=JSON.parse(a)),a},_.toJSONString=function(a){return"function"==typeof a?!1:("object"==typeof a&&(a=JSON.stringify(a)),a)},_.toSafeUrl=function(a){return a+=-1==a.indexOf("&")?"?s="+Math.random():"s="+Math.random()},_.getLS=function(a){return window.localStorage?window.localStorage.getItem(a):!1},_.setLS=function(a,b){return window.localStorage?(window.localStorage.setItem(a,_(b).toString()),!0):!1},_.getCookie=function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null},_.setCookieMin=function(a,b,c){if(c){var d=new Date;d.setTime(d.getTime()+1e3*60*c);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"},_.setCookie=function(a,b,c){c||(c=360);var d=new Date;d.setTime(d.getTime()+1e3*60*60*24*c);var e="; expires="+d.toGMTString();document.cookie=a+"="+b+e+"; path=/"},_.clearCookie=function(a){_.setCookie(a,"",-1)},_.openWindow2=function(a,b,c){if(_.browser.ie)var d=window.open(a);else var d=window.open(null,a,"width="+b+",height="+c);var e=screen.width,f=screen.height;return d&&d.moveTo&&d.moveTo(Math.ceil(.5*(e-b)),Math.ceil(.5*(f-c))),d},_.openWindow3=function(a,b,c,d){if(_.browser.ie)var e=window.open(b);else var e=window.open(a,"_blank","width="+c+",height="+d);var f=screen.width,g=screen.height;return e&&e.moveTo&&e.moveTo(Math.ceil(.5*(f-c)),Math.ceil(.5*(g-d))),e},_.isPhone=function(){if("undefined"==typeof _.__is_phone){var a=$(window).width();_.__is_phone=640>=a}return _.__is_phone},_.isPhone2=function(){if("undefined"==typeof _.__is_phone2){var a=$(window).width();_.__is_phone2=a>640&&950>a}return _.__is_phone2},_.isTablet=function(){if("undefined"==typeof _.__is_tablet){var a=$(window).width();_.__is_tablet=a>640&&1280>a}return _.__is_tablet},_.isDesktop=function(){var a=$(window).width();return _.__is_desktop=a>=1280,_.__is_desktop},Handlebars.registerHelper("_",function(a,b){var c=a;return qst.l10n[b]&&qst.l10n[b][a]&&(c=qst.l10n[b][a][qst.language]||qst.l10n[b][a].en||"(;_;)"),new Handlebars.SafeString(c)}),Handlebars.registerHelper("_plural",function(a,b){var c=qst.l10n.plural.processors[qst.language]||qst.l10n.plural.processors.en,d=c(a,Handlebars.helpers._(b,"plural"));return new Handlebars.SafeString(d)}),Handlebars.registerHelper("_itunes_link",function(){var a="https://itunes.apple.com/us/app/we-heart-pics/id488515478";return _.browser.ioschrome&&(a="itms://itunes.apple.com/ru/app/we-heart-pics-quick-image/id488515478?l=en&mt=8"),new Handlebars.SafeString(a)}),Handlebars.registerHelper("_timegap",function(a){a*=1e3;var b=new Date(a);today=new Date;var c=today-b,d=parseInt(c/1e3/60/60/24/365),e=parseInt(c/1e3/60/60/24),f=parseInt(c/1e3/60/60),g=parseInt(c/1e3/60),h=parseInt(c/1e3);return 60>h?"< 1"+Handlebars.helpers._("m","time").toString():60>g?g+Handlebars.helpers._("m","time").toString():24>f?f+Handlebars.helpers._("h","time").toString():365>e?e+Handlebars.helpers._("d","time").toString():d+Handlebars.helpers._("y","time").toString()}),Handlebars.registerHelper("ifEq",function(a,b,c){return a==b?c.fn(this):c.inverse(this)}),Handlebars.registerHelper("ifOR",function(a,b,c,d){return a||b||c?d.fn(this):d.inverse(this)}),Handlebars.registerHelper("_uinput",function(a){a=a.toString();var b=new RegExp("\\B#(\\S+)","gi"),a=a.replace(b,function(a,b){return b?"#"+b:a});return b=new RegExp("\\[id(\\S+)\\|([^\\]]+)\\]","gi"),a=a.replace(b,function(a,b,c){return b&&c?'<a class="unm" href="/user/'+b+'/">'+c+"</a>":a}),new Handlebars.SafeString(a)}),Handlebars.registerHelper("_tagWrap",function(a,b,c){if(!a)return"";if(!b)return a;var d=new RegExp(b,"gi"),a=a.replace(d,function(a){return"<"+c+">"+a+"</"+c+">"});return new Handlebars.SafeString(a)}),Handlebars.registerHelper("_mention_clear",function(a){if(!a)return"";var b=new RegExp("\\[id(\\S+)\\|([^\\]]+)\\]","gi"),a=a.replace(b,function(a,b,c){return b&&c?c:a});return new Handlebars.SafeString(a)}),Handlebars.registerHelper("_uncache",function(a){return new Handlebars.SafeString(a+"?r="+Math.round(9e8*Math.random()))}),Handlebars.registerHelper("_uphoto",function(a,b){return a||(a="http://img.qstoq.io/photo/SIZEX/764000.jpg"),new Handlebars.SafeString(a.replace("SIZEX",b))}),Handlebars.registerHelper("_prephoto",function(a,b){return new Handlebars.SafeString("http://img.qstoq.io/photo/"+a+"/"+b+".jpg")}),Handlebars.registerHelper("_number_format",function(a){a||(a=0),a+="";for(var b="",c=a.length,d=c-1;d>=0;d--)b=0===(c-1-d)%3?a.charAt(d)+"&nbsp;"+b:a.charAt(d)+b;return new Handlebars.SafeString(b)});